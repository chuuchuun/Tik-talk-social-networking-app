@if (profile){
<div class="profile-card">
    <div class="avatar-name">
        <img 
            [src]="profile.avatarUrl" 
            alt="avatar" 
            class="profile-card-avatar">
        <div class="profile-card-name">
            <strong class="h6">{{profile.firstName }} {{profile.lastName}}</strong>
            <span class="subtitle">{{profile.username}}</span>
        </div>
    </div>
    <div class="profile-card-description">
        {{profile.description}}
    </div>
    <div class="profile-card-tags">
        @for(stack of profile.stack; track stack){
            <div class="skill-tag">{{stack}}</div>
        }
    </div>
    <div class="profile-card-action-buttons">
        <!-- Iterate over the subscriptions$ observable -->
        @if(isSubscribed(profile.id)){
            <div class="subscribed-buttons">
                <div class="subscribed-icon">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.3125 13.6562L8 11.3438L8.9375 10.4062L10.3125 11.7812L13.7188 8.34375L14.6562 9.28125L10.3125 13.6562ZM9.21875 7.21875C8.69792 7.73958 8.07292 8 7.34375 8C6.61458 8 5.97917 7.73958 5.4375 7.21875C4.91667 6.69792 4.65625 6.07292 4.65625 5.34375C4.65625 4.61458 4.91667 3.98958 5.4375 3.46875C5.97917 2.92708 6.61458 2.65625 7.34375 2.65625C8.07292 2.65625 8.69792 2.92708 9.21875 3.46875C9.73958 3.98958 10 4.61458 10 5.34375C10 6.07292 9.73958 6.69792 9.21875 7.21875ZM6 11.3438L8 13.3438H2V12C2 11.2083 2.60417 10.5729 3.8125 10.0938C5.04167 9.59375 6.21875 9.34375 7.34375 9.34375C7.65625 9.34375 7.875 9.35417 8 9.375L6 11.3438Z" fill="#AE7AFF"/>
                    </svg>
                </div>                
                <button class="btn icon-button">
                    Message
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.34375 14V9.34375L11.3438 8L1.34375 6.65625V2L15.3438 8L1.34375 14Z" fill="black"/>
                    </svg>
                        
                  </button>
            </div>
        }
        @else {
            <button class="btn icon-button" (click)="Subscribe(profile.id)">
                Subscribe
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6.46875 10.0938C7.69792 9.59375 8.875 9.34375 10 9.34375C11.125 9.34375 12.2917 9.59375 13.5 10.0938C14.7292 10.5729 15.3438 11.2083 15.3438 12V13.3438H4.65625V12C4.65625 11.2083 5.26042 10.5729 6.46875 10.0938ZM4 6.65625H6V8H4V10H2.65625V8H0.65625V6.65625H2.65625V4.65625H4V6.65625ZM11.875 7.21875C11.3542 7.73958 10.7292 8 10 8C9.27083 8 8.64583 7.73958 8.125 7.21875C7.60417 6.69792 7.34375 6.07292 7.34375 5.34375C7.34375 4.61458 7.60417 3.98958 8.125 3.46875C8.64583 2.92708 9.27083 2.65625 10 2.65625C10.7292 2.65625 11.3542 2.92708 11.875 3.46875C12.3958 3.98958 12.6562 4.61458 12.6562 5.34375C12.6562 6.07292 12.3958 6.69792 11.875 7.21875Z" fill="black"/>
                    </svg>
                    
            </button>
        }
        <a [routerLink]="['/profile', profile.id]" class="btn icon">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 0.34375H10.6562V7H9.34375V2.59375L1.59375 10.3438L0.65625 9.40625L8.40625 1.65625H4V0.34375Z" fill="black"/>
            </svg>
                
        </a>
         
        </div>
      </div>
} @else {
    Not found
}